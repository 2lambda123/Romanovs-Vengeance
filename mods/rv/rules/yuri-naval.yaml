yhvr:
	Inherits: ^AmphibiousTransport
	Buildable:
		Queue: Ship.Yuri
	Voiced:
		VoiceSet: YuriAmphibiousTransportVoice

bsub:
	Inherits: ^Ship
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@C4: ^AcceptsSEALC4
	Inherits@CHAOS: ^BerserkableVoxel
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@MC: ^MindControllableDisabledWithIC
	Inherits@RADIATON: ^DamagedByRadiation10Percent
	Inherits@SQUID: ^SquidGrabbable
	Buildable:
		Queue: Ship.Yuri
		Prerequisites: yatech, ~techlevel.3
		BuildPaletteOrder: 50
		Description: Submerged anti-ship and anti-structure armed with\ndouble torpedo and missile launchers.\nCan detect other submarines and sea animals.\n  Strong vs Ships, Buildings\n  Weak vs Ground units, Aircraft\nSpecial Ability: Submerge
		BuildDuration: 1000
		BuildDurationModifier: 100
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Valued:
		Cost: 2000
	Tooltip:
		Name: Boomer Submarine
		GenericName: Submarine
	Tooltip@NoRow:
		Name: Boomer Submarine
		GenericName: Submarine
	Health:
		HP: 120000
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 24
		Speed: 90
	-LeavesTrails:
	RevealsShroud:
		Range: 8c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 8c0
	RevealOnDeath:
		Radius: 4c0
	Targetable:
		TargetTypes: Ground, Water, Ship, Underwater
	Cloak:
		CloakTypes: Underwater
		InitialDelay: 50
		CloakDelay: 75
		CloakSound: vnavupa.wav
		UncloakSound: vnavupa.wav
		UncloakOn: Damage
		IsPlayerPalette: true
		PauseOnCondition: uncloak
	GrantConditionOnAttack:
		Condition: uncloak
		RevokeDelay: 75
		ArmamentNames: missile
	Armament:
		Weapon: BoomerTorpedo
		LocalOffset: 768,0,0
		FireDelay: 2
		RequiresCondition: !rank-elite
	Armament@elite:
		Weapon: BoomerTorpedoE
		LocalOffset: 768,0,0
		FireDelay: 2
		RequiresCondition: rank-elite
	Armament@missile:
		Name: missile
		Weapon: CruiseLauncher
	AttackFrontal:
		Voice: Attack
		FacingTolerance: 2
		TargetFrozenActors: True
		Armaments: primary, missile
		PauseOnCondition: chronodisable || emp
	DetectCloaked:
		CloakTypes: Underwater
		Range: 4c0
	RenderDetectionCircle:
	MissileSpawnerMaster:
		Actors: cmisl, cmisl
		SpawnAllAtOnce: true
		RespawnTicks: 120
		ArmamentNames: missile
		SpawnOffset: 280,280,0, -280,280,0
	WithSpawnerMasterPipsDecoration:
		Margin: 4, 3
		Palette: ra
		Position: BottomLeft
		RequiresSelection: true
	GrantExternalConditionToSpawnedMissile:
		Condition: rank-elite
		RequiresCondition: rank-elite
	-MustBeDestroyed:
	WithVoxelBody:
	RenderSprites:
	Voiced:
		VoiceSet: BoomerVoice
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
		ValidRelationships: None
	HitShape:
	GrantConditionOnMovement@MoveStart:
		Condition: moving
		ValidMovementTypes: Horizontal
	SoundAnnouncement:
		SoundFiles: vboostaa.wav, vboostab.wav
		Volume: 0.6
		RequiresCondition: moving

cmisl:
	Inherits: ^ShootableMissile
	Valued:
		Cost: 50
	Tooltip:
		Name: Cruise Missile
	Tooltip@NoRow:
		Name: Cruise Missile
	Health:
		HP: 5000
	Armor:
		Type: Rocket
	BallisticMissile:
		CreateAngle: 255
		LaunchAngle: 255
		PrepareTick: 25
		TurnSpeed: 25
		Speed: 300
		LaunchAcceleration: 16
		HitAcceleration: 30
		LaunchSounds: vbooat1a.wav
		SoundVolume: 0.6
		AirborneCondition: airborne
	LeavesTrails:
		Image: smokey2
		MovingInterval: 2
		SpawnAtLastPosition: false
		Type: CenterPosition
	MissileSpawnerSlave:
	SpawnedExplodes:
		Weapon: CruiseWeapon
		EmptyWeapon: CruiseWeapon
		RequiresCondition: !airborne && !rank-elite
	SpawnedExplodes@Elite:
		Weapon: CruiseWeaponE
		EmptyWeapon: CruiseWeaponE
		RequiresCondition: !airborne && rank-elite
	SpawnedExplodes@Airborne:
		Weapon: UnitExplode
		EmptyWeapon: UnitExplode
		RequiresCondition: airborne
	ExternalCondition@RANK-ELITE:
		Condition: rank-elite
	RenderVoxels:
		Image: bsubmisl

# Custom Yuri Vessels
piranha:
	Inherits: ^Ship
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@C4: ^AcceptsSEALC4
	Inherits@CHAOS: ^BerserkableVoxel
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@MC: ^MindControllableDisabledWithIC
	Inherits@RADIATON: ^DamagedByRadiation10Percent
	Inherits@SQUID: ^SquidGrabbable
	Buildable:
		Queue: Ship.Yuri
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 20
		Description: Submerged unit armed with fast firing torpedoes.\nCan detect other submarines and sea animals.\n  Strong vs Ships\n  Weak vs Ground units, Aircraft, Ships\nSpecial Ability: Submerge
		BuildDuration: 250
		BuildDurationModifier: 100
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Valued:
		Cost: 600
	Tooltip:
		Name: Piranha Submarine
	Tooltip@NoRow:
		Name: Piranha Submarine
	Health:
		HP: 30000
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 36
		Speed: 150
	-LeavesTrails:
	RevealsShroud:
		Range: 9c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 9c0
	RevealOnDeath:
		Radius: 4c512
	Targetable:
		TargetTypes: Ground, Water, Ship, Underwater
	Cloak:
		CloakTypes: Underwater
		InitialDelay: 50
		CloakDelay: 75
		CloakSound: vnavupa.wav
		UncloakSound: vnavupa.wav
		UncloakOn: Attack, Damage
		IsPlayerPalette: true
	Armament:
		Weapon: PiraTorpedo
		LocalOffset: 768,0,0
		FireDelay: 2
		RequiresCondition: !rank-elite
	Armament@elite:
		Weapon: PiraTorpedoE
		LocalOffset: 768,0,0
		FireDelay: 2
		RequiresCondition: rank-elite
	AttackFrontal:
		Voice: Attack
		FacingTolerance: 2
		PauseOnCondition: chronodisable || emp
	WithMuzzleOverlay:
	DetectCloaked:
		CloakTypes: Underwater
		Range: 4c0
	RenderDetectionCircle:
	-MustBeDestroyed:
	WithVoxelBody:
	RenderSprites:
	Voiced:
		VoiceSet: TyphoonVoice
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
		ValidRelationships: None
	HitShape:
	GrantConditionOnMovement@MoveStart:
		Condition: moving
		ValidMovementTypes: Horizontal, Turn
	SoundAnnouncement:
		SoundFiles: vsqumova.wav, vsqumovb.wav
		Volume: 0.45
		RequiresCondition: moving

gatsub:
	Inherits: ^Ship
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@C4: ^AcceptsSEALC4
	Inherits@CHAINGUNS: ^AffectedByChainguns
	Inherits@CHAOS: ^BerserkableVoxel
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@MC: ^MindControllableDisabledWithIC
	Inherits@RADIATON: ^DamagedByRadiation10Percent
	Inherits@SQUID: ^SquidGrabbable
	Buildable:
		Queue: Ship.Yuri
		Prerequisites: yadome, ~techlevel.2
		BuildPaletteOrder: 30
		Description: Submerged anti-air unit armed with\ngatling cannon.\nCan detect other submarines and sea animals.\n  Strong vs Infantry, Aircraft\n  Weak vs Vehicles, Ships\nSpecial Ability: Submerge
		BuildDuration: 375
		BuildDurationModifier: 100
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Valued:
		Cost: 750
	Tooltip:
		Name: Gatling Submarine
	Tooltip@NoRow:
		Name: Gatling Submarine
	Health:
		HP: 50000
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 24
		Speed: 105
	-LeavesTrails:
	RevealsShroud:
		Range: 10c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 10c0
	RevealOnDeath:
		Radius: 5c0
	Targetable:
		TargetTypes: Ground, Water, Ship, Underwater
	Cloak:
		CloakTypes: Underwater
		InitialDelay: 50
		CloakDelay: 75
		CloakSound: vnavupa.wav
		UncloakSound: vnavupa.wav
		UncloakOn: Attack, Damage
		IsPlayerPalette: true
	Turreted:
		Offset: -256,0,0
		TurnSpeed: 40
	Armament@ag-0:
		Weapon: AGGatling
		LocalOffset: 544,100,1024, 544,-100,1024
		MuzzleSequence: muzzle
		ReloadingCondition: reload-ground
		PauseOnCondition: reload-air
		RequiresCondition: !gatling
	Armament@ag-1:
		Weapon: AGGatling2
		LocalOffset: 544,100,1024, 544,-100,1024
		MuzzleSequence: muzzle-1
		ReloadingCondition: reload-ground
		PauseOnCondition: reload-air
		RequiresCondition: gatling == 1
	Armament@ag-2:
		Weapon: AGGatling3
		LocalOffset: 544,100,1024, 544,-100,1024
		MuzzleSequence: muzzle-2
		ReloadingCondition: reload-ground
		PauseOnCondition: reload-air
		RequiresCondition: gatling >= 2
	Armament@ag-line-0:
		Name: secondary
		Weapon: AGGatlingLine
		LocalOffset: 544,100,1024, 544,-100,1024
		ReloadingCondition: reload-line-ground
		PauseOnCondition: reload-line-air
		RequiresCondition: !gatling && chainguns
	Armament@ag-line-1:
		Name: secondary
		Weapon: AGGatlingLine2
		LocalOffset: 544,100,1024, 544,-100,1024
		ReloadingCondition: reload-line-ground
		PauseOnCondition: reload-line-air
		RequiresCondition: gatling == 1 && chainguns
	Armament@ag-line-2:
		Name: secondary
		Weapon: AGGatlingLine3
		LocalOffset: 544,100,1024, 544,-100,1024
		ReloadingCondition: reload-line-ground
		PauseOnCondition: reload-line-air
		RequiresCondition: gatling >= 2 && chainguns
	Armament@aa-0:
		Weapon: AAGatling
		LocalOffset: 544,100,1024, 544,-100,1024
		MuzzleSequence: muzzle
		ReloadingCondition: reload-air
		PauseOnCondition: reload-ground
		RequiresCondition: !gatling
	Armament@aa-1:
		Weapon: AAGatling2
		LocalOffset: 544,100,1024, 544,-100,1024
		MuzzleSequence: muzzle-1
		ReloadingCondition: reload-air
		PauseOnCondition: reload-ground
		RequiresCondition: gatling == 1
	Armament@aa-2:
		Weapon: AAGatling3
		LocalOffset: 544,100,1024, 544,-100,1024
		MuzzleSequence: muzzle-2
		ReloadingCondition: reload-air
		PauseOnCondition: reload-ground
		RequiresCondition: gatling >= 2
	Armament@aa-line-0:
		Name: secondary
		Weapon: AAGatlingLine
		LocalOffset: 544,100,1024, 544,-100,1024
		ReloadingCondition: reload-line-air
		PauseOnCondition: reload-line-ground
		RequiresCondition: !gatling && chainguns
	Armament@aa-line-1:
		Name: secondary
		Weapon: AAGatlingLine2
		LocalOffset: 544,100,1024, 544,-100,1024
		ReloadingCondition: reload-line-air
		PauseOnCondition: reload-line-ground
		RequiresCondition: gatling == 1 && chainguns
	Armament@aa-line-2:
		Name: secondary
		Weapon: AAGatlingLine3
		LocalOffset: 544,100,1024, 544,-100,1024
		ReloadingCondition: reload-line-air
		PauseOnCondition: reload-line-ground
		RequiresCondition: gatling >= 2 && chainguns
	GrantConditionOnAttack:
		Condition: gatling
		RequiredShotsPerInstance: 12, 24
		MaximumInstances: 2
		RevokeDelay: 25
		RevokeAll: true
		IsCyclic: false
		RevokeOnNewTarget: false
		RequiresCondition: !rank-elite
	GrantConditionOnAttack@elite:
		Condition: gatling
		RequiredShotsPerInstance: 6, 12
		MaximumInstances: 2
		RevokeDelay: 25
		RevokeAll: true
		IsCyclic: false
		RevokeOnNewTarget: false
		RequiresCondition: rank-elite
	AttackTurreted:
		Voice: Attack
	DetectCloaked:
		CloakTypes: Underwater
		Range: 4c0
	RenderDetectionCircle:
	-MustBeDestroyed:
	WithMuzzleOverlay:
	WithVoxelBody:
	WithVoxelTurret:
	RenderSprites:
	Voiced:
		VoiceSet: GatlingTankVoice
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
		ValidRelationships: None
	ProducibleWithLevel:
		Prerequisites: vetgatsub
	WithProductionIconOverlay:
		Prerequisites: vetgatsub
		Types: chevron-veteran
	HitShape:
	GrantConditionOnMovement@MoveStart:
		Condition: moving
		ValidMovementTypes: Horizontal, Turn
	SoundAnnouncement:
		SoundFiles: vboostaa.wav, vboostab.wav
		Volume: 0.6
		RequiresCondition: moving

floater:
	Inherits: ^SeaAnimal
	Inherits@DNABOOST: ^AffectedByDNABoosters
	Buildable:
		Queue: Ship.Yuri
		Prerequisites: yadome, ~techlevel.3
		Description: Large ocean creature capable of dealing heavy damage in close combat.\nCan move to land.\n  Strong vs Ships
		BuildDuration: 625
	Valued:
		Cost: 1000
	DeliversCash:
		Payload: 500
		PlayerExperience: 50
		Voice: Move
	Tooltip:
		Name: Mutant Crab
		GenericName: Crab
	Tooltip@NoRow:
		Name: Mutant Crab
		GenericName: Crab
	Armor:
		Type: Heavy
	Health:
		HP: 40000
	ChangesHealth:
		PercentageStep: 1
		Step: 0
		Delay: 100
		DamageCooldown: 100
		StartIfBelow: 100
	Mobile:
		Locomotor: amphibious
	SpeedMultiplier:
		Modifier: 50
		RequiresCondition: !in_water
	Selectable:
		Bounds: 772, 1544, 0, -241
	Voiced:
		VoiceSet: GiantSquidVoice
	Armament:
		Weapon: CrabPunch
	AttackFrontal:
		Voice: Attack
		FacingTolerance: 512
		PauseOnCondition: chronodisable
	Cloak:
		RequiresCondition: in_water
	Targetable:
		RequiresCondition: in_water
	Targetable@GROUND:
		TargetTypes: Ground, SeaAnimal
		RequiresCondition: !in_water
	GrantConditionOnTerrain@Water:
		TerrainTypes: Water
		Condition: in_water
	QuantizeFacingsFromSequence:
		Sequence: idle
	WithSpriteBody:
	WithAttackAnimation:
		Sequence: attack
	RenderSprites:
		PlayerPalette: infantry

buoy:
	Inherits: ^Ship
	Inherits@C4: ^AcceptsSEALC4
	Inherits@PARACHUTE: ^ParachutableVehicle
	Inherits@RADIATON: ^DamagedByRadiation50Percent
	Valued:
		Cost: 250
	-Selectable:
	Interactable:
		Bounds: 1544, 3089
	RejectsOrders:
	Tooltip:
		Name: Sensor Buoy
	Tooltip@NoRow:
		Name: Sensor Buoy
	Health:
		HP: 15000
	Armor:
		Type: Light
	Mobile:
		RequiresCondition: !chronodisable && !magnefreeze
	# Hovers:
	#	InitialHeight: 64 # Enable this after figuring a way to make the wave anim not hover.
	Passenger:
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	RevealOnDeath:
		Radius: 3c0
	-LeavesTrails:
	DetectCloaked:
		CloakTypes: Underwater
		Range: 6c0
	RenderDetectionCircle:
	RenderVoxels:
		Scale: 14
	WithVoxelBody:
	WithSpriteBody:
		RequiresCondition: !parachute
	RenderSprites:
		Palette: effect50alpha
	-Voiced:
	-MustBeDestroyed:
	-WithColoredOverlay@IDISABLE:
	-GrantCondition@IDISABLE:
	-WithIdleOverlay@EMP:
	-Targetable@EMP:
	-TimedConditionBar@EMP:
	-ExternalCondition@emp:
	HitShape:
