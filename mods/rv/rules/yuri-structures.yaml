yacnst:
	Inherits: ^ConstructionYard
	ProvidesPrerequisite@yuri:
		Prerequisite: structures.yuri
	Production:
		Produces: Building.Yuri, Support.Yuri
	ProductionQueue@Building:
		Type: Building.Yuri
	ProductionQueue@Support:
		Type: Support.Yuri
	Transforms:
		IntoActor: pcv
	ProductionBar@Building:
		ProductionType: Building.Yuri
	ProductionBar@Support:
		ProductionType: Support.Yuri
	WithIdleOverlay@top:
		Sequence: idle-top
		RequiresCondition: !build-incomplete
	WithIdleOverlay@normal:
		Sequence: idle-normal
		RequiresCondition: !build-incomplete
	WithBuildingPlacedAnimation:
		RequiresCondition: !build-incomplete

yapowr:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@POWEROUTAGE: ^DisabledByPowerOutage
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Yuri
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 10
		Description: Provides power for other structures./nCan be occupied with up to 5 infantry for 50 more power each.
	Selectable:
		Bounds: 96, 128, 0, -36
	Valued:
		Cost: 500
	Tooltip:
		Name: Bio Reactor
	ProvidesPrerequisite:
		Prerequisite: power
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 500
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 4c0
	WithMakeAnimation:
		BodyNames: body, loaded
	WithSpriteBody:
		PauseOnCondition: chronodisable
		RequiresCondition: !loaded
	WithSpriteBody@loaded:
		Name: loaded
		Sequence: loaded
		PauseOnCondition: chronodisable
		RequiresCondition: loaded
	WithIdleOverlay@lights:
		Sequence: idle-lights
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Power@0:
		Amount: 150
		RequiresCondition: !chronodisable && !forceshieldnopower && !power-outage
	Power@1:
		Amount: 50
		RequiresCondition: !chronodisable && !forceshieldnopower && !power-outage && loaded >= 1
	Power@2:
		Amount: 50
		RequiresCondition: !chronodisable && !forceshieldnopower && !power-outage && loaded >= 2
	Power@3:
		Amount: 50
		RequiresCondition: !chronodisable && !forceshieldnopower && !power-outage && loaded >= 3
	Power@4:
		Amount: 50
		RequiresCondition: !chronodisable && !forceshieldnopower && !power-outage && loaded >= 4
	Power@5:
		Amount: 50
		RequiresCondition: !chronodisable && !forceshieldnopower && !power-outage && loaded >= 5
	GrantConditionOnPrerequisite@forceshield:
		Condition: forceshieldnopower
		Prerequisites: forceshield
	Cargo:
		Types: Infantry, Garrisoner
		MaxWeight: 5
		PipCount: 5
		EjectOnDeath: true
		LoadedCondition: loaded
	ScalePowerWithHealth:
	SoundOnDamageTransition:
		DestroyedSounds: bpowdiea.wav, bpowdieb.wav
	PowerTooltip:
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate

yabrck:
	Inherits: ^Barracks
	Inherits@shape: ^2x3Shape
	Buildable:
		Queue: Building.Yuri
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3
	Exit@0_n1:
		SpawnOffset: 170,-810,0
		ExitCell: 0, -1
	Exit@0_2:
		SpawnOffset: -900,220,0
		ExitCell: 0, 2
	Exit@2_n1:
		SpawnOffset: 900,-220,0
		ExitCell: 2, -1
	Exit@2_2:
		SpawnOffset: -170,810,0
		ExitCell: 2, 2
	Production:
		Produces: Infantry.Yuri
	ProductionQueue:
		Type: Infantry.Yuri
	ProductionBar:
		ProductionType: Infantry.Yuri
	RallyPoint:
		Offset: 2,1

yarefn:
	Inherits: ^BaseBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 30
		Prerequisites: power
		Description: Gathers and processes ore.
	Selectable:
		Bounds: 70, 50, 0, -20
	Valued
		Cost: 1500
	Tooltip
		Name: Slave Miner
	Health:
		HP: 2000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 6c0
	RevealOnDeath:
		Radius: 3c0
	ProvidesPrerequisite@default:
	ProvidesPrerequisite@refinery:
		Prerequisite: refinery
	Building:
		Footprint: xx x=
		Dimensions: 2,2
	Refinery:
		DockOffset: 1,1
		ShowTicks: True
		TickLifetime: 30
		TickVelocity: 1
		TickRate: 10
		DockAngle: 160
		UseStorage: false
	-GivesBuildableArea:
	Transforms:
		Facing: 224
		IntoActor: smin
		DeployCursor: undeploy
		Voice: Undeploy
	InfiltrateForCash:
		Percentage: 50
		Notification: CreditsStolen
		Minimum: 500
	WithIdleOverlay@processing:
		Sequence: idle-processing
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Turreted:
		TurnSpeed: 5
	Armament@primary:
		Weapon: 20mmrapid
		LocalOffset: 640,0,384
	#	RequiresCondition: !rank-elite
	# Armament@elite:
	#	Weapon: 20mmrapidE
	#	LocalOffset: 640,0,384
	#	RequiresCondition: rank-elite
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	RenderVoxels:
		Image: smin
		Scale: 11.7
		LightYaw: 800
		LightPitch: 150
		LightAmbientColor: -0.5,-0.5,-0.5
		LightDiffuseColor: 1.3,1.3,1.3
	WithVoxelTurret:
		RequiresCondition: !build-incomplete
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate
	Voiced:
		VoiceSet: SlaveMinerVoice

yaweap:
	Inherits: ^WarFactory
	Buildable:
		Queue: Building.Yuri
	Production:
		Produces: Vehicle.Yuri
	ProductionQueue:
		Type: Vehicle.Yuri
	ProductionBar:
		ProductionType: Vehicle.Yuri
	WithIdleOverlay@lights:
		Sequence: idle-lights
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete

yayard:
	Inherits: ^Shipyard
	Tooltip:
		Name: Submarine Pen
	Buildable:
		Queue: Building.Yuri
	Production:
		Produces: Ship.Yuri
	ProductionQueue:
		Type: Ship.Yuri
	ProductionBar:
		ProductionType: Ship.Yuri

yapsis:
	Inherits: ^BaseBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 60
		Prerequisites: power, yarefn, ~techlevel.2
		Description: Provides radar\nDetects enemy units and strikepoints
	Valued:
		Cost: 1000
	Tooltip:
		Name: Psychic Radar
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Selectable:
		Bounds: 82, 150, -1, -55
	Health:
		HP: 750
	Armor:
		Type: Wood
	ProvidesPrerequisite@default:
	ProvidesRadar:
		RequiresCondition: !disabled && !chronodisable
	RevealsShroud:
		Range: 15c0
		RequiresCondition: !disabled
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 15c0
		RequiresCondition: !disabled
	RevealsShroud@DISABLED:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroudToIntelligenceOwner@DISABLED:
		Types: SatelliteScan
		Range: 5c0
		RequiresCondition: disabled
	RenderDetectionCircle:
	DetectCloaked:
		CloakTypes: Cloak, Underwater
		Range: 25c0
	WithIdleOverlay@spin:
		Sequence: idle-spin
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -50

yatech:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x3Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 90
		Prerequisites: yapsis, ~techlevel.3
		Description: Allows deployment of advanced units.
	Valued:
		Cost: 2000
	Tooltip:
		Name: Battle Lab
	ProvidesPrerequisite@default:
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Health:
		HP: 500
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 6c0
	WithIdleOverlay@lift:
		Sequence: idle-lift
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -100
	InfiltrateForSupportPower:
		Types: SpyInfiltrate
		Proxy: yuri.tech.infiltrated
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate

yawall:
	Inherits: ^Wall
	Buildable:
		Queue: Support.Yuri
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 10
		Description: Heavy wall capable of blocking units and projectiles.
	Tooltip:
		Name: Citadel Wall
	LineBuild:
		NodeTypes: yawall
	LineBuildNode:
		Types: yawall
	WithWallSpriteBody:
		Type: yawall
	Replaceable:
		Types: YuriGate

yapsyt:
	Inherits: ^SupportBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Buildable:
		Queue: Support.Yuri
		BuildPaletteOrder: 60
		Prerequisites: yatech
		Description: Tower capable of mind controlling up to 3 enemy units.\nRequires power to operate.
	Selectable:
		Bounds: 69, 150, 0, -74
	Health:
		HP: 450
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 8c0
	Valued:
		Cost: 1500
	Tooltip:
		Name: Psychic Tower
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Turreted:
		TurnSpeed: 255
	WithIdleOverlay@top:
		Sequence: idle-top
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -100
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure
	Armament:
		Weapon: TowerMindControl
		MuzzleSequence: muzzle
		LocalOffset: 0,0,960
	WithMuzzleOverlay:
	MindController:
		Capacity: 3
		ControllingCondition: controlling
		Sounds: iyurat1a.wav
		RequiresCondition: !disabled && !chronodisable
	WithMindControlArc:
		UsePlayerColor: true
		Offset: 0,0,960
	AutoTarget:
	AutoTargetPriority@DEFAULT:
		ValidTargets: MindControl
		RequiresCondition: controlling >= 3

yacomd:
	Inherits: ^CivBuilding
	Inherits@shape: ^4x4Shape
	Tooltip:
		Name: Yuri's Command Center
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 8c0
	Health:
		HP: 1000
	Building:
		Dimensions: 4,4
		Footprint: xxxx xxxx xxxx xxxx
	SpawnActorOnDeath:
		Actor: yacomd.rubble

yacomd.rubble:
	Inherits: ^Rubble
	Building:
		Dimensions: 4,4
		Footprint: ____ ____ ____ ____
	RenderSprites:
		Image: yacomd

yapppt:
	Inherits: ^CivBuilding
	Inherits@shape: ^3x3Shape
	Tooltip:
		Name: Psychic Dominator
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	Health:
		HP: 1000
	Building:
		Dimensions: 3,3
		Footprint: xxx xxx xxx

yarock:
	Inherits: ^CivBuilding
	Inherits@shape: ^3x3Shape
	Tooltip:
		Name: Rocket Launch Pad
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	Health:
		HP: 700
	Building:
		Dimensions: 3,3
		Footprint: xxx xxx xxx

# Custom Structures
yaexpn:
	Inherits: ^ExpansionNode
	Transforms:
		IntoActor: expy
	RenderSprites:
		Image: gaexpn
