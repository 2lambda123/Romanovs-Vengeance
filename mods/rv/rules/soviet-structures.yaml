nacnst:
	Inherits: ^ConstructionYard
	ProvidesPrerequisite@soviets:
		Prerequisite: structures.soviets
	Production:
		Produces: Building.Soviets, Support.Soviets
	ProductionQueue@Building:
		Type: Building.Soviets
	ProductionQueue@Support:
		Type: Support.Soviets
	ProductionBar@Building:
		ProductionType: Building.Soviets
	ProductionBar@Support:
		ProductionType: Support.Soviets
	Transforms:
		IntoActor: smcv
	WithIdleOverlay@top:
		Sequence: idle-top
		RequiresCondition: !build-incomplete
	WithIdleOverlay@normal:
		Sequence: idle-normal
		RequiresCondition: !build-incomplete
	WithBuildingPlacedAnimation:
		RequiresCondition: !build-incomplete
	GrantConditionOnFaction@Russia:
		Condition: russia
		Factions: russia
	GrantConditionOnFaction@Iraq:
		Condition: iraq
		Factions: iraq
	GrantConditionOnFaction@Vietnam:
		Condition: vietnam
		Factions: vietnam
	GrantConditionOnFaction@Cuba:
		Condition: cuba
		Factions: cuba
	GrantConditionOnFaction@libya:
		Condition: libya
		Factions: libya
	WithIdleOverlay@Russia:
		Sequence: flag-russia
		RequiresCondition: !build-incomplete && russia
	WithIdleOverlay@Iraq:
		Sequence: flag-iraq
		RequiresCondition: !build-incomplete && iraq
	WithIdleOverlay@Vietnam:
		Sequence: flag-vietnam
		RequiresCondition: !build-incomplete && vietnam
	WithIdleOverlay@Cuba:
		Sequence: flag-cuba
		RequiresCondition: !build-incomplete && cuba
	WithIdleOverlay@Libya:
		Sequence: flag-libya
		RequiresCondition: !build-incomplete && libya
	IsometricSelectable:
		DecorationHeight: 90
	Voiced:
		VoiceSet: SovietConstructionYardVoice

napowr:
	Inherits: ^BaseBuilding
	Inherits@DRAIN: ^DiskDrainable
	Inherits@MC: ^MindControllableBuilding
	Inherits@POWEROUTAGE: ^DisabledByPowerOutage
	Inherits@shape: ^3x2Shape
	Buildable:
		Queue: Building.Soviets
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 10
		Description: Provides power for other structures.\nCan be rotated.
	Valued:
		Cost: 500
	Tooltip:
		Name: Tesla Reactor
	Tooltip@NoRow:
		Name: Tesla Reactor
	ProvidesPrerequisite:
		Prerequisite: power
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Health:
		HP: 500
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	WithIdleOverlay@lights:
		Sequence: idle-lights
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: 150
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage
	GrantCondition@IDISABLE:
		RequiresCondition: power-outage || diskdrain
	GrantConditionOnPrerequisite@forceshield:
		Condition: forceshieldnopower
		Prerequisites: forceshield
	ScalePowerWithHealth:
	SoundOnDamageTransition:
		DestroyedSounds: bpowdiea.wav, bpowdieb.wav
	PowerTooltip:
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate
	PlaceBuildingVariants:
		Actors: napowb
	IsometricSelectable:
		DecorationHeight: 45
	Voiced:
		VoiceSet: PowerPlantVoice

nahand:
	Inherits: ^Barracks
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Soviets
		Description: Trains infantry.
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Exit@1:
		SpawnOffset: -512,768,0
		ExitCell: 1,2
		Priority: 2
	Exit@2:
		SpawnOffset: -512,768,0
		ExitCell: 0,2
		Priority: 2
	Exit@fallback1:
		SpawnOffset: 0,724,0
		ExitCell: 2,2
	Exit@fallback2:
		SpawnOffset: 0,724,0
		ExitCell: 2,1
	Exit@fallback3:
		SpawnOffset: 724,0,0
		ExitCell: 2,0
	Exit@fallback4:
		SpawnOffset: 724,0,0
		ExitCell: 2,-1
	Exit@fallback5:
		SpawnOffset: 724,0,0
		ExitCell: 1,-1
	Exit@fallback6:
		SpawnOffset: 0,-724,0
		ExitCell: 0,-1
	Exit@fallback7:
		SpawnOffset: 0,-724,0
		ExitCell: -1,-1
	Exit@fallback8:
		SpawnOffset: 0,-724,0
		ExitCell: -1,0
	Exit@fallback9:
		SpawnOffset: -724,0,0
		ExitCell: -1,1
	Exit@fallback10:
		SpawnOffset: -724,0,0
		ExitCell: -1,2
	Production:
		Produces: Infantry.Soviets, Infantry.Cuba, Infantry.Iraq, Infantry.Baku
	ProductionQueue:
		Type: Infantry.Soviets
		Factions: america, germany, england, france, korea, japan, belarus, poland, ukraine, aussie, china, turkey, canada, libya, russia, vietnam, chile, mexico, psicorps, psinepal, psisouth, psitrans, psimoon
	ProductionQueue@Cuba:
		Type: Infantry.Cuba
		Factions: cuba
		Group: Infantry
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@Iraq:
		Type: Infantry.Iraq
		Factions: iraq
		Group: Infantry
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@Baku:
		Type: Infantry.Baku
		Factions: transcaucus, turkmen, tuva, russianfed, serbia
		Group: Infantry
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Infantry.Soviets
	ProductionBar@Cuba:
		ProductionType: Infantry.Cuba
	ProductionBar@Iraq:
		ProductionType: Infantry.Iraq
	ProductionBar@Baku:
		ProductionType: Infantry.Baku
	RallyPoint:
		Path: 3,3
	ProvidesPrerequisite@nahand:
		Prerequisite: nahand
	IsometricSelectable:
		DecorationHeight: 135

narefn:
	Inherits: ^Refinery
	Buildable:
		Queue: Building.Soviets
	FreeActor:
		Actor: harv
	PlaceBuildingVariants:
		Actors: narefb, narefc, narefd
	IsometricSelectable:
		DecorationHeight: 90

naradr:
	Inherits: ^BaseBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Soviets
		BuildPaletteOrder: 60
		Prerequisites: power, narefn, ~techlevel.2
		Description: Provides radar
	Valued:
		Cost: 1500
	Tooltip:
		Name: Radar Tower
	Tooltip@NoRow:
		Name: Radar Tower
	ProvidesPrerequisite:
		Prerequisite: radar
	ProvidesPrerequisite@default:
	ProvidesPrerequisite@russia:
		Prerequisite: radar.russia
		Factions: russia
	ProvidesPrerequisite@iraq:
		Prerequisite: radar.iraq
		Factions: iraq
	ProvidesPrerequisite@vietnam:
		Prerequisite: radar.vietnam
		Factions: vietnam
	ProvidesPrerequisite@cuba:
		Prerequisite: radar.cuba
		Factions: cuba
	ProvidesPrerequisite@libya:
		Prerequisite: radar.libya
		Factions: libya
	ProvidesPrerequisite@baku:
		Prerequisite: radar.baku
		Factions: transcaucus, turkmen, tuva, russianfed, serbia
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 1000
	Armor:
		Type: Wood
	ExternalCondition@disableradar:
		Condition: disableradar
	ProvidesRadar:
		RequiresCondition: !disabled && !chronodisable && !disableradar
	RevealsShroud:
		Range: 10c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 10c0
	SupportPowerChargeBar:
	ParatroopersPower@tesladrop:
		OrderName: RussianTeslaDrop
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.russia
		Icons:
			1: tesladrop
		ChargeInterval: 4500
		Descriptions:
			1: Tesla Drop
		LongDescs:
			1: A Cargo Plane drops a Tesla Tank\n and 3 Tesla Troopers anywhere on the map.
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: ParatroopersReady
		DropItems:
			1: shk, shk, shk, ttnk
		SquadSizes:
			1: 1
		QuantizedFacings: 8
		UnitTypes:
			1: pdplane
		CameraActor: camera
		DisplayBeacon: True
		BeaconPosters:
			1: tesdicon
		ArrowSequence: arrow
		ClockSequence: clock
		UseDirectionalTarget: True
		DirectionArrowAnimation: swdirection
		DirectionArrowPalette: mouse
	NukePower@radiationmissile:
		OrderName: IraqiRadMissile
		Cursor: nuke
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.iraq
		Icons:
			1: radmissile
		ChargeInterval: 7500
		Descriptions:
			1: Radiation Missile
		LongDescs:
			1: Fires a missile that deals low damage\nand leaves radiation.
		LaunchSound: sradlaun.wav
		SelectTargetSpeechNotification: SelectTarget
		MissileWeapon: RadiationMissile
		MissilePalette: player
		IsPlayerPalette: true
		CameraRange: 8c0
		CameraRemoveDelay: 75
		FlightVelocity: 0c768
		FlightDelay: 140
		DisplayBeacon: True
		BeaconPosters:
			1: radmicon
		ArrowSequence: arrow
		ClockSequence: clock
		TargetCircleRanges:
			1: 4c0
	DetonateWeaponPower@instanbunker:
		OrderName: VietnameseInstantBunker
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.vietnam
		Icons:
			1: bunker
		ChargeInterval: 3000
		Descriptions:
			1: Instant Bunker
		LongDescs:
			1: Places a bunker anywhere on the map.
		SelectTargetSpeechNotification: SelectTarget
		Weapons:
			1: BunkerSpawner
		ActivationSequence:
	DetonateWeaponPower@ambush:
		OrderName: LibyanAmbush
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.libya
		Icons:
			1: ambush
		ChargeInterval: 6000
		Descriptions:
			1: Ambush
		LongDescs:
			1: Spawns 9 Conscripts and 6 Flak Troopers\nanywhere on the map.
		SelectTargetSpeechNotification: SelectTarget
		Weapons:
			1: AmbushSpawner
		ActivationSequence:
		CameraRange: 8c0
		CameraRemoveDelay: 25
	AirstrikePower@clustermines:
		OrderName: CubanClusterMines
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.cuba
		Icons:
			1: cluster
		ChargeInterval: 4500
		Descriptions:
			1: Cluster Mines
		LongDescs:
			1: A Cargo plane drops 13 mines\nanywhere on the map.
		SelectTargetSpeechNotification: SelectTarget
		IncomingSpeechNotification: WarningEnemyAirstrikeInitiated
		UnitTypes:
			1: pdplane.cluster_mines
		SquadSizes:
			1: 1
		QuantizedFacings: 8
		CameraActor: camera.5c0
		DisplayBeacon: True
		BeaconPosters:
			1: mineicon
		ArrowSequence: arrow
		ClockSequence: clock
		UseDirectionalTarget: True
		DirectionArrowAnimation: swdirection
		DirectionArrowPalette: mouse
	AirstrikePower@leafletdrop:
		OrderName: BakuPactLeafletDrop
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.baku
		Icons:
			1: leaflet
		ChargeInterval: 3750
		Descriptions:
			1: Leaflet Drop
		LongDescs:
			1: A Cargo Plane drops leaflets\nanywhere on the map.\nLeaflets slow enemy infantry\nand vehicle movement and\nfire speed.
		SelectTargetSpeechNotification: SelectTarget
		IncomingSpeechNotification: WarningEnemyAirstrikeInitiated
		UnitTypes:
			1: pdplane.leaflet.baku
		SquadSizes:
			1: 1
		QuantizedFacings: 8
		CameraActor: CAMERA
		CameraRemoveDelay: 100
		DisplayBeacon: True
		BeaconPosters:
			1: leaficon
		ArrowSequence: arrow
		ClockSequence: clock
		UseDirectionalTarget: True
		DirectionArrowAnimation: swdirection
		DirectionArrowPalette: mouse
	WithIdleOverlay@dish:
		Sequence: idle-dish
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate
	InfiltrateForExploration:
		Types: SpyInfiltrate
		InfiltratedNotification: RadarSabotaged
		InfiltrationNotification: BuildingInfiltratedRadarSabotaged
	Power:
		Amount: -75
	IsometricSelectable:
		DecorationHeight: 90
	Voiced:
		VoiceSet: RadarVoice

mine:
	Inherits@1: ^SpriteActor
	ConditionManager:
	Interactable:
		Bounds: 24,24
	WithSpriteBody:
	HiddenUnderFog:
	RevealsShroud:
		Range: 1c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 1c0
	Mine:
		CrushClasses: mine
		DetonateClasses: mine
		BlockFriendly: false
	Health:
		HP: 50
		NotifyAppliedDamage: false
	Armor:
		Type: Light
	Cloak:
		CloakSound:
		UncloakSound:
		Palette:
		InitialDelay: 0
	Tooltip:
		Name: Mine
		GenericName: Mine
		RequiresCondition: showownername
	Tooltip@NoRow:
		Name: Mine
		GenericName: Mine
		ShowOwnerRow: false
		RequiresCondition: !showownername
	GrantConditionOnPrerequisite@SHOWOWNERNAME:
		Condition: showownername
		Prerequisites: global-showownername
	Targetable:
		TargetTypes: Ground, Structure, Defense, NonGarrisonableStructure
	Mobile:
		Speed: 1
		Locomotor: wheeled
	RejectsOrders:
	HitShape:
	MapEditorData:
		Categories: System
	Explodes:
		Weapon: MineExplosion
	RenderSprites:
		PlayerPalette: infantry

naweap:
	Inherits: ^WarFactory
	Buildable:
		Queue: Building.Soviets
	ProvidesPrerequisite@naweap:
		Prerequisite: naweap
	Production:
		Produces: Vehicle.Soviets, Vehicle.USSR, Vehicle.Libya
	ProductionQueue:
		Type: Vehicle.Soviets
		Factions: america, germany, england, france, korea, japan, belarus, poland, ukraine, aussie, china, turkey, canada, cuba, iraq, vietnam, chile, mexico, psicorps, psinepal, psisouth, psitrans, psimoon, transcaucus, turkmen, tuva, russianfed, serbia
	ProductionQueue@USSR:
		Type: Vehicle.USSR
		Factions: russia
		Group: Vehicle
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@Libya:
		Type: Vehicle.Libya
		Factions: libya
		Group: Vehicle
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Vehicle.Soviets
	ProductionBar@USSR:
		ProductionType: Vehicle.USSR
	ProductionBar@Libya:
		ProductionType: Vehicle.Libya
	WithIdleOverlay@lights:
		Sequence: idle-lights
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	PlaceBuildingVariants:
		Actors: naweab, naweac, nawead
	IsometricSelectable:
		DecorationHeight: 90

nayard:
	Inherits: ^Shipyard
	Buildable:
		Queue: Building.Soviets
	Production:
		Produces: Ship.Soviets
	ProductionQueue:
		Type: Ship.Soviets
	ProductionBar:
		ProductionType: Ship.Soviets
	IsometricSelectable:
		DecorationHeight: 120

nmine:
	Inherits: mine
	Mine:
		CrushClasses: nmine
		DetonateClasses: nmine
	Tooltip:
		Name: Naval Mine
	Tooltip@NoRow:
		Name: Naval Mine
	RevealsShroud:
		Range: 3c0
	# RevealsShroudToIntelligenceOwner:
	#	Range: 3c0
	Targetable:
		TargetTypes: Ground, Water, Underwater, Structure, Defense, NonGarrisonableStructure
	-Mobile:
	Building:
		Footprint: x
		Dimensions: 1,1
		TerrainTypes: Water
	Cloak:
		CloakTypes: Cloak, Underwater
	Explodes:
		Weapon: MineExplosion
	RenderSprites:
		PlayerPalette: player

nadept:
	Inherits: ^ServiceDepot
	Inherits@shape: ^4x3Shape
	Buildable:
		Queue: Building.Soviets
		Prerequisites: naweap, ~techlevel.1
		Description: Repairs vehicles and removes Terror Drones for a price.\nCan be rotated.
	ProvidesPrerequisite@default:
		Prerequisite: nadept
	Building:
		Footprint: x+++ x+++ x+++
		Dimensions: 4,3
	RallyPoint:
		Path: 4,1
	WithSpriteBody:
		PauseOnCondition: chronodisable
	WithIdleOverlay@normal:
		Sequence: idle-normal
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	PlaceBuildingVariants:
		Actors: nadepb
	IsometricSelectable:
		DecorationHeight: 90

naheli:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x3Shape
	Buildable:
		Queue: Building.Soviets
		BuildPaletteOrder: 100
		Prerequisites: naradr, ~techlevel.2
		Description: Produces Soviet aircraft.
	Valued:
		Cost: 500
	Tooltip:
		Name: Helipad
	Tooltip@NoRow:
		Name: Helipad
	ProvidesPrerequisite@default:
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	Health:
		HP: 750
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	Armor:
		Type: Wood
	Reservable:
	RallyPoint:
		Path: 3,1
		Palette: mouse
		IsPlayerPalette: false
	Exit@1:
		Facing: 160
		ExitCell: 1,1
		SpawnOffset: -384,128,0
	GrantExternalConditionToProduced:
		Condition: produced
	Production:
		Produces: Aircraft.Soviets, Aircraft.Vietnam
		PauseOnCondition: chronodisable
	ProductionQueue:
		Type: Aircraft.Soviets
		Factions: america, germany, england, france, korea, japan, belarus, poland, ukraine, aussie, china, turkey, canada, cuba, libya, iraq, russia, chile, mexico, psicorps, psinepal, psisouth, psitrans, psimoon, transcaucus, turkmen, tuva, russianfed, serbia
		Group: Aircraft
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@Vietnam:
		Type: Aircraft.Vietnam
		Factions: vietnam
		Group: Aircraft
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Aircraft.Soviets
	ProductionBar@Vietnam:
		ProductionType: Aircraft.Vietnam
	Power:
		Amount: -50
	WithIdleOverlay@lights:
		Sequence: idle-lights
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@dish:
		Sequence: idle-dish
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	IsometricSelectable:
		DecorationHeight: 60
	Voiced:
		VoiceSet: AirfieldVoice

nanrct:
	Inherits: ^BaseBuilding
	Inherits@DRAIN: ^DiskDrainable
	Inherits@MC: ^MindControllableBuilding
	Inherits@POWEROUTAGE: ^DisabledByPowerOutage
	Inherits@shape: ^4x4Shape
	Buildable:
		Queue: Building.Soviets
		BuildPaletteOrder: 110
		Prerequisites: natech, ~techlevel.3
		Description: Provides power for other structures.
	Valued:
		Cost: 1500
	Tooltip:
		Name: Nuclear Reactor
	Tooltip@NoRow:
		Name: Nuclear Reactor
	ProvidesPrerequisite:
		Prerequisite: power
	Building:
		Footprint: xxxx xxxx xxxx _xx_
		Dimensions: 4,4
	Health:
		HP: 1000
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	WithIdleOverlay@lights:
		Sequence: idle-lights
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Explodes:
		Type: CenterPosition
		Weapon: NukePayload
		EmptyWeapon: NukePayload
	Power:
		Amount: 1000
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage
	GrantCondition@IDISABLE:
		RequiresCondition: power-outage || diskdrain
	GrantConditionOnPrerequisite@forceshield:
		Condition: forceshieldnopower
		Prerequisites: forceshield
	ScalePowerWithHealth:
	SoundOnDamageTransition:
		DestroyedSounds: bpowdiea.wav, bpowdieb.wav
	PowerTooltip:
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate
	IsometricSelectable:
		DecorationHeight: 60
	Voiced:
		VoiceSet: NuclearReactorVoice

natech:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x3Shape
	Buildable:
		Queue: Building.Soviets
		BuildPaletteOrder: 90
		Prerequisites: naradr, ~techlevel.3
		Description: Allows deployment of advanced units.
	Valued:
		Cost: 2000
	Tooltip:
		Name: Battle Lab
	Tooltip@NoRow:
		Name: Battle Lab
	ProvidesPrerequisite@default:
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	Health:
		HP: 750
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	Power:
		Amount: -100
	InfiltrateForSupportPower:
		Types: SpyInfiltrate
		Proxy: soviets.tech.infiltrated
		InfiltratedNotification: TechnologyStolen
		InfiltrationNotification: BuildingInfiltratedTechnologyStolen
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate
	IsometricSelectable:
		DecorationHeight: 120
	Voiced:
		VoiceSet: TechCenterVoice

naclon:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Soviets
		BuildPaletteOrder: 120
		Prerequisites: ~disabled # natech
		Description: Clones most trained infantry.\nMaximum 1 can be built.
		BuildLimit: 1
	Valued:
		Cost: 2000
	Tooltip:
		Name: Cloning Vats
	Tooltip@NoRow:
		Name: Cloning Vats
	Building:
		Footprint: xx xx
		Dimensions: 2, 2
	Health:
		HP: 750
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	Power:
		Amount: -200
	ExitsDebugOverlay:
	Exit@1:
		SpawnOffset: -640,640,0
		ExitCell: 1,2
		Priority: 2
	Exit@2:
		SpawnOffset: -640,640,0
		ExitCell: 0,2
		Priority: 2
	Exit@fallback1:
		SpawnOffset: 0,724,0
		ExitCell: 2,2
	Exit@fallback2:
		SpawnOffset: 0,724,0
		ExitCell: 2,1
	Exit@fallback3:
		SpawnOffset: 724,0,0
		ExitCell: 2,0
	Exit@fallback4:
		SpawnOffset: 724,0,0
		ExitCell: 2,-1
	Exit@fallback5:
		SpawnOffset: 724,0,0
		ExitCell: 1,-1
	Exit@fallback6:
		SpawnOffset: 0,-724,0
		ExitCell: 0,-1
	Exit@fallback7:
		SpawnOffset: 0,-724,0
		ExitCell: -1,-1
	Exit@fallback8:
		SpawnOffset: 0,-724,0
		ExitCell: -1,0
	Exit@fallback9:
		SpawnOffset: -724,0,0
		ExitCell: -1,1
	Exit@fallback10:
		SpawnOffset: -724,0,0
		ExitCell: -1,2
	WithSpriteBody:
		PauseOnCondition: chronodisable
	Production:
		Produces: Clone.Soviets
	RallyPoint:
		Path: 3,3
		Palette: mouse
		IsPlayerPalette: false
	ClonesProducedUnits:
		CloneableTypes: Infantry
		ProductionType: Clone.Soviets
	AcceptsDeliveredCash:
	IsometricSelectable:
		DecorationHeight: 90
	Voiced:
		VoiceSet: CloningVatsVoice

napsis:
	Inherits: ^BaseBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Support.Soviets
		BuildPaletteOrder: 80
		Prerequisites: ~disabled # natech, ~techlevel.4
		Description: Detects enemy units and structures.
	Valued:
		Cost: 1000
	Tooltip:
		Name: Psychic Sensor
	Tooltip@NoRow:
		Name: Psychic Sensor
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 500
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	GpsASProvider:
		RequiresCondition: !disabled && !build-incomplete && !chronodisable
	RenderDetectionCircle:
	DetectCloaked:
		CloakTypes: Cloak, Underwater
		Range: 25c0
	WithIdleOverlay@spin:
		Sequence: idle-spin
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -100
	IsometricSelectable:
		DecorationHeight: 120
	Voiced:
		VoiceSet: PsychicSensorVoice

nairon:
	Inherits: ^SecondarySuperWeapon
	Buildable:
		Queue: Support.Soviets
		Prerequisites: natech, !enoughiron, ~techlevel.5
		Description: Grants invulnerability to vehicles and structures.\nKills infantry.
	Tooltip:
		Name: Iron Curtain Device
	Tooltip@NoRow:
		Name: Iron Curtain Device
	WithSpriteBody:
		PauseOnCondition: chronodisable
	GrantExternalConditionPower@IRONCURTAIN:
		Icons:
			1: invuln
		Prerequisites:
			1: nairon
		Cursor: iron-curtain
		ChargeInterval: 6000
		Descriptions:
			1: Invulnerability
		LongDescs:
			1: Makes a group of units invulnerable\nfor 20 seconds.\n\nKills infantry.
		AllowMultiple: true
		Durations:
			1: 500
		Conditions:
			1: invulnerability
		Ranges:
			1: 2
		ValidStances: Ally, Neutral, Enemy
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: IronCurtainReady
		LaunchSpeechNotification: IronCurtainActivated
		IncomingSpeechNotification: IronCurtainActivated
		EndChargeSound: siroread.wav
		OnFireSound: siroon.wav
		DisplayTimerStances: Ally, Neutral, Enemy
		DisplayRadarPing: True
		PauseOnCondition: disabled || chronodisable
	ProvidesPrerequisite@swlimit:
		Prerequisite: enoughiron
	AnnounceOnSeen:
		Notification: IronCurtainDetected
	IsometricSelectable:
		DecorationHeight: 75

namisl:
	Inherits: ^PrimarySuperWeapon
	Buildable:
		Queue: Support.Soviets
		Prerequisites: natech, !enoughnuke, ~techlevel.5
		Description: Provides an atomic bomb.\nRequires power to operate.\n  Special Ability: Atom Bomb
	Tooltip:
		Name: Nuclear Missile Silo
	Tooltip@NoRow:
		Name: Nuclear Missile Silo
	NukePower:
		Prerequisites:
			1: namisl
		Cursor: nuke
		Icons:
			1: abomb
		ChargeInterval: 9000
		Descriptions:
			1: Nuclear Missile
		LongDescs:
			1: Launches a devastating nuclear missile\nat a target location.
		AllowMultiple: true
		EndChargeSound: snukread.wav
		LaunchSound: snuklaun.wav
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: NuclearMissileReady
		LaunchSpeechNotification: NuclearMissileLaunched
		IncomingSpeechNotification: NuclearMissileLaunched
		MissileWeapon: atomic
		MissilePalette: player
		MissileDelay: 35
		SpawnOffset: 0,0,-1c0
		IsPlayerPalette: true
		DisplayTimerStances: Ally, Neutral, Enemy
		DisplayBeacon: True
		DisplayRadarPing: True
		BeaconPosters:
			1: nukeicon
		FlashType: Nuke
		ArrowSequence: arrow
		ClockSequence: clock
		CameraRange: 10c0
		CameraRemoveDelay: 75
		PauseOnCondition: disabled || chronodisable
		FlightDelay: 250
		FlightVelocity: 1c0
		TargetCircleRanges:
			1: 10c0
	WithSupportPowerActivationAnimation:
		RequiresCondition: !build-incomplete && !chronodisable
	ProvidesPrerequisite@swlimit:
		Prerequisite: enoughnuke
	AnnounceOnSeen:
		Notification: NuclearSiloDetected
	IsometricSelectable:
		DecorationHeight: 120
	Voiced:
		VoiceSet: NuclearSiloVoice

nawall:
	Inherits: ^Wall
	Buildable:
		Queue: Support.Soviets
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 10
		Description: Heavy wall capable of blocking units and projectiles.
	Tooltip:
		Name: Soviet Wall
	Tooltip@NoRow:
		Name: Soviet Wall
	LineBuild:
		NodeTypes: nawall
	LineBuildNode:
		Types: nawall
	WithWallSpriteBody:
		Type: nawall
	Replaceable:
		Types: SovietGate

naflak:
	Inherits: ^VoxelLighting
	Inherits@AUTOTARGET: ^AutoTargetAir
	Inherits@DRAIN: ^DiskDrainable
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Buildable:
		Queue: Support.Soviets
		BuildPaletteOrder: 60
		Prerequisites: naradr, ~techlevel.2
		Description: Automated anti-aircraft defense.\nCan detect cloaked units.
	Valued:
		Cost: 800
	Tooltip:
		Name: Flak Cannon
	Tooltip@NoRow:
		Name: Flak Cannon
	Building:
		Footprint: x
		Dimensions: 1, 1
	Health:
		HP: 600
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 8c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	Turreted:
		TurnSpeed: 10
		InitialFacing: 224
		PreviewFacing: 224
		Offset: 450,0,0
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Armament:
		Weapon: FlakWeapon
		LocalOffset: 640,0,1536
		MuzzleSequence: muzzle
	WithMuzzleOverlay:
	BodyOrientation:
		QuantizedFacings: 16
	RenderVoxels:
	WithVoxelTurret:
		RequiresCondition: !build-incomplete
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain
	WithRangeCircle:
		Range: 12c0
		Type: aa
	AutoTarget:
	Power:
		Amount: -40
	RequiresBuildableArea:
		Adjacent: 3
	IsometricSelectable:
		DecorationHeight: 60
	DetectCloaked:
		Range: 5c0
		RequiresCondition: !disabled
	RenderDetectionCircle:

tesla:
	Inherits: ^SupportBuilding
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DRAIN: ^DiskDrainable
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Buildable:
		Queue: Support.Soviets
		BuildPaletteOrder: 70
		Prerequisites: naradr, ~techlevel.3
		Description: Advanced base defense.\nCan be buffed or made work during low power by Tesla Troopers.\nRequires power to operate.\nCan detect cloaked units.\n  Strong vs Infantry, Vehicles\n  Weak vs Aircraft
	Valued:
		Cost: 1500
	Tooltip:
		Name: Tesla Coil
	Tooltip@NoRow:
		Name: Tesla Coil
	Building:
		Footprint: x
		Dimensions: 1, 1
	Health:
		HP: 600
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 8c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 8c0
	Targetable@TeslaBoost:
		TargetTypes: TeslaBoost
		RequiresCondition: !powerdown
	WithTeslaChargeOverlay:
	Armament:
		Weapon: CoilBolt
		LocalOffset: 0,0,3072
		RequiresCondition: (!lowpower && !charged) || (lowpower && charged == 1)
	Armament@1:
		Weapon: OPCoilBolt
		LocalOffset: 0,0,3072
		RequiresCondition: (!lowpower && charged == 1) || (lowpower && charged == 2)
	Armament@2:
		Weapon: OPerCoilBolt
		LocalOffset: 0,0,3072
		RequiresCondition: (!lowpower && charged == 2) || (lowpower && charged >= 3)
	Armament@3:
		Weapon: OPestCoilBolt
		LocalOffset: 0,0,3072
		RequiresCondition: !lowpower && charged >= 3
	AttackTesla:
		Voice: Attack
		MaxCharges: 3
		ReloadDelay: 80
		ChargeAudio: btespow.wav
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	DetectCloaked:
		Range: 7c0
		RequiresCondition: !disabled
	RenderDetectionCircle:
	AutoTarget:
	GrantConditionOnPowerState@LOWPOWER:
		RequiresCondition: !charged
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain
	WithRangeCircle:
		Range: 8c0
		Type: teslacoil
	Power:
		Amount: -75
	WithIdleOverlay@powered:
		Sequence: idle-powered
		PauseOnCondition: chronodisable
		RequiresCondition: !disabled && !build-incomplete
	ExternalCondition@CHARGED:
		Condition: charged
	IsometricSelectable:
		DecorationHeight: 75

nalasr:
	Inherits: ^VoxelLighting
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@MC: ^MindControllableBuilding
	Buildable:
		Queue: Support.Soviets
		BuildPaletteOrder: 50
		Prerequisites: nahand, ~techlevel.1
		Description: Automated anti-infantry defense.\nCan detect cloaked units.
	Valued:
		Cost: 500
	Tooltip:
		Name: Sentry Gun
	Tooltip@NoRow:
		Name: Sentry Gun
	Building:
		Footprint: x
		Dimensions: 1, 1
	Health:
		HP: 400
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 7c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 7c0
	Turreted:
		TurnSpeed: 10
		InitialFacing: 224
		PreviewFacing: 224
		Offset: 320,0,0
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Armament:
		Weapon: vulcan
		LocalOffset: 544,128,480, 544,-128,480
		MuzzleSequence: muzzle
		MuzzleSplitFacings: 8
	WithMuzzleOverlay:
	DetectCloaked:
		Range: 5c0
	RenderDetectionCircle:
	BodyOrientation:
		QuantizedFacings: 16
	RenderVoxels:
	WithVoxelTurret:
		RequiresCondition: !build-incomplete
	WithRangeCircle:
		Range: 6c0
		Type: pillbox
	AutoTarget:
	RequiresBuildableArea:
		Adjacent: 4
	IsometricSelectable:
		DecorationHeight: 30

# Yuri's Revenge Structures
nabnkr:
	Inherits: ^SupportBuilding
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Support.Soviets
		BuildPaletteOrder: 40
		Prerequisites: ~disabled
		Description: Static defense with fireports for 6 garrisoned soldiers.\nInfantry inside cannot be killed by garrison killers.
	Valued:
		Cost: 500
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Battle Bunker
	Tooltip@NoRow:
		Name: Battle Bunker
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 600
	Armor:
		Type: Steel
	Cargo:
		Types: Garrisoner
		MaxWeight: 6
		# EjectOnDeath: true # This causes desyncs.
		LoadedCondition: loaded
	WithCargoSounds:
		EnterSound: ugarris.wav
		ExitSound: ugarris.wav
	-SpawnActorsOnSell@allies:
	-SpawnActorsOnSell@soviets:
	-SpawnActorsOnSell@psicorps:
	WithRangeCircle:
		Range: 6c0
	WithSpriteBody:
	WithIdleOverlay@Garrisoned:
		Sequence: garrisoned
		RequiresCondition: loaded && !build-incomplete
	AttackOpenTopped:
		Armaments: garrisoned, garrisoned-secondary
		PortOffsets: 768,0,1024, 448,-682,1024, -448,-682,1024, -768,0,1024, -448,682,1024, 448,682,1024
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	WithCargoPipsDecoration:
		EmptySequence: pip-garrison-empty
		FullSequence: pip-garrison-green
		Margin: 4, 3
		PipStride: 4, 2
		Palette: ra
		Position: BottomLeft
		RequiresSelection: true
		CustomPipSequences:
			gray: pip-garrison-gray
			yellow: pip-garrison-yellow
			blue: pip-garrison-blue
			red: pip-garrison-red
	EngineerRepairable:
		RequiresCondition: !ivanbomb && !sealC4 && !commandoC4 && !teslabomb && !toxinbomb && damaged
	GrantConditionOnDamageState@DAMAGED:
		Condition: damaged
		ValidDamageStates: Light, Medium, Heavy, Critical
	IsometricSelectable:
		DecorationHeight: 45
	Voiced:
		VoiceSet: BattleBunkerVoice

naindp:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x3Shape
	Buildable:
		Queue: Building.Soviets
		BuildPaletteOrder: 120
		Prerequisites: narefn, natech, ~techlevel.4
		Description: Decreases vehicle costs by 25%.\nMaximum 1 can be built.\nCan not be captured.
		BuildLimit: 1
	Valued:
		Cost: 2000
	Tooltip:
		Name: Industrial Plant
	Tooltip@NoRow:
		Name: Industrial Plant
	ProvidesPrerequisite@default:
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	WithIdleOverlay@pistons:
		Sequence: idle-pistons
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@lights:
		Sequence: idle-lights
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	GrantExternalConditionToOwner:
		Condition: naindp
	Health:
		HP: 750
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	Power:
		Amount: -200
	IsometricSelectable:
		DecorationHeight: 120

# Custom Structures
nagatea:
	Inherits: ^Gate_A
	Buildable:
		Queue: Support.Soviets
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 20
	Tooltip:
		Name: Soviet Gate
	Tooltip@NoRow:
		Name: Soviet Gate
	LineBuildNode:
		Types: nawall
	WithGateSpriteBody:
		Type: nawall
	Replacement:
		ReplaceableTypes: SovietGate
	PlaceBuildingVariants:
		Actors: nagateb

nagateb:
	Inherits: ^Gate_B
	-Buildable:
	Tooltip:
		Name: Soviet Gate
	Tooltip@NoRow:
		Name: Soviet Gate
	LineBuildNode:
		Types: nawall
	WithGateSpriteBody:
		Type: nawall
	Replacement:
		ReplaceableTypes: SovietGate

napost:
	Inherits: ^BaseBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Buildable:
		Queue: Support.Soviets
		BuildPaletteOrder: 40
		Prerequisites: power, ~prerequisite.tesla_fence, ~techlevel.1
		Description: Stops infantry and blocks enemy fire.
	Valued:
		Cost: 150
	Tooltip:
		Name: Tesla Fence Post
	Tooltip@NoRow:
		Name: Tesla Fence Post
	Health:
		HP: 500
	Armor:
		Type: Concrete
	LineBuild:
		Range: 10
		NodeTypes: teslafencenode
		SegmentType: nafnce
		SegmentsRequireNode: true
	LineBuildNode:
		Types: teslafencenode
	Power:
		Amount: -5
	RevealsShroud:
		Range: 4c0
	WithIdleOverlay@LIGHTS:
		Sequence: lights
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@CHAINOFLIGHTS:
		Sequence: chainoflights
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	LineBuildSegmentExternalCondition:
		RequiresCondition: !build-incomplete && !disabled
		Condition: active-posts
	RequiresBuildableArea:
		Adjacent: 6
	IsometricSelectable:
		DecorationHeight: 30

nafnce:
	Inherits: ^Wall
	Tooltip:
		Name: Tesla Fence
	Tooltip@NoRow:
		Name: Tesla Fence
	LineBuild:
		NodeTypes: teslafence
	LineBuildNode:
		Types: teslafence
	-Crushable:
	-Sellable:
	-Targetable:
	-Building:
	Explodes:
		Weapon: UnitExplodeSmall
		EmptyWeapon: UnitExplodeSmall
	EnergyWall:
		ActiveCondition: active-posts == 2
		Weapon: TeslaFence
	GrantConditionOnLineBuildDirection@X:
		Direction: X
		Condition: teslafence-direction-x
	GrantConditionOnLineBuildDirection@Y:
		Direction: Y
		Condition: teslafence-direction-y
	-WithWallSpriteBody:
	ExternalCondition@ACTIVE:
		Condition: active-posts
	WithWallSpriteBody@XENABLED:
		RequiresCondition: teslafence-direction-x && active-posts == 2
		Type: teslafence
		Sequence: enabled-x
		Name: x-enabled
	WithWallSpriteBody@YENABLED:
		RequiresCondition: teslafence-direction-y && active-posts == 2
		Type: teslafence
		Sequence: enabled-y
		Name: y-enabled
	WithSpriteBody@XDISABLED:
		RequiresCondition: teslafence-direction-x && active-posts < 2
		Sequence: disabled-x
		Name: x-disabled
	WithSpriteBody@YDISABLED:
		RequiresCondition: teslafence-direction-y && active-posts < 2
		Sequence: disabled-y
		Name: y-disabled
	BlocksProjectiles:
		RequiresCondition: active-posts == 2
	DamageMultiplier: # Prevent all normal damage, but still allows direct kills from the post
		Modifier: 0
	Interactable:
		Bounds: 48, 24

nasilo:
	Inherits: ^Silo
	Buildable:
		Queue: Support.Soviets
	Capturable:
		RequiresCondition: !invulnerability
	Sellable:
		RequiresCondition: !chronodisable
	IsometricSelectable:
		DecorationHeight: 45

naprop:
	Inherits: ^SupportBuilding
	Inherits@DRAIN: ^DiskDrainable
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@MC: ^MindControllableBuilding
	Buildable:
		Queue: Support.Soviets
		BuildPaletteOrder: 80
		Prerequisites: natech, ~techlevel.4
		Description: Buffs fire speed of nearby units and heals them.
	Valued:
		Cost: 500
	Tooltip:
		Name: Propaganda Tower
	Tooltip@NoRow:
		Name: Propaganda Tower
	Building:
		Footprint: x
		Dimensions: 1, 1
	Health:
		HP: 400
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 7c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 7c0
	-WithMakeAnimation:
	Sellable:
		RequiresCondition: !chronodisable
	ProximityExternalCondition@propaganda_tower:
		Condition: propaganda_tower
		Range: 6c0
		RequiresCondition: !disabled
	WithRangeCircle:
		Range: 6c0
		Type: propaganda
		RequiresCondition: !disabled
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain
	Capturable:
		Types: building
	CaptureNotification:
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure
	Power:
		Amount: -50
	WithIdleOverlay@flag:
		Sequence: idle-flag
		PauseOnCondition: chronodisable
		# RequiresCondition: !build-incomplete
	GpsDotAS:
		Sequence: Structure
	IsometricSelectable:
		DecorationHeight: 60

naexpn:
	Inherits: ^ExpansionNode
	# Transforms:
	#	IntoActor: exps
	RenderSprites:
		Image: gaexpn

napowb:
	Inherits: napowr
	Inherits@shape: ^2x3Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3

narefb:
	Inherits: ^RefineryB
	FreeActor:
		Actor: harv
	ProvidesPrerequisite@narefn:
		Prerequisite: narefn
	IsometricSelectable:
		DecorationHeight: 90

narefc:
	Inherits: ^RefineryC
	FreeActor:
		Actor: harv
	ProvidesPrerequisite@narefn:
		Prerequisite: narefn
	IsometricSelectable:
		DecorationHeight: 90

narefd:
	Inherits: ^RefineryD
	FreeActor:
		Actor: harv
	ProvidesPrerequisite@narefn:
		Prerequisite: narefn
	IsometricSelectable:
		DecorationHeight: 90

naweab:
	Inherits: naweap
	Inherits@shape: ^3x5Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xxx xxx xxx xxx ===
		Dimensions: 3,5
	RallyPoint:
		Path: 1,6
	Exit@1:
		ExitCell: 1,4

naweac:
	Inherits: naweap
	-Buildable:
	-PlaceBuildingVariants:
	-WithExitOverlay@front:
	-WithExitOverlay@top:
	-WithIdleOverlay@bib:
	WithIdleOverlay@lights:
		Sequence: idle-flag
	Building:
		Footprint: =xxxx =xxxx =xxxx
	RallyPoint:
		Path: -2,1
	Exit@1:
		ExitCell: 0,1

nawead:
	Inherits: naweab
	-WithExitOverlay@front:
	-WithExitOverlay@top:
	-WithIdleOverlay@bib:
	WithIdleOverlay@lights:
		Sequence: idle-flag
	Building:
		Footprint: === xxx xxx xxx xxx
	RallyPoint:
		Path: 1,-2
	Exit@1:
		ExitCell: 1,0

nadepb:
	Inherits: nadept
	Inherits@shape: ^3x4Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xxx +++ +++ +++
		Dimensions: 3,4
	RallyPoint:
		Path: 1,4
